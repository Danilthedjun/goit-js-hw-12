{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function getImages(query) {\n  const KEY = '42530509-bac56eefb83244286f2e71aac';\n  const API_URL = 'https://pixabay.com/api/';\n  const IMAGE_TYPE = 'photo';\n  const ORIENTATION = 'horizontal';\n  const SAFESEARCH = 'true';\n  const LINK = `${API_URL}?key=${KEY}&q=${query}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`;\n\n  return fetch(LINK)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Image error!');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data;\n    });\n}\n","export default function createGallery(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n   <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  </a>\n  <div class=\"stats\">\n  <p>Likes<br/>${likes}</p>\n  <p>Views<br/>${views}</p>\n  <p>Commens<br/>${comments}</p>\n  <p>Downloads<br/>${downloads}</p>\n</div>\n</li>\n  `\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('form');\nlet lightbox;\n\nimport getImages from './js/pixabay-api';\nimport createGallery from './js/render-functions';\n\nfunction updateGallery(query) {\n  const loader = document.createElement('div');\n  loader.classList.add('loader');\n  form.insertAdjacentElement('afterend', loader);\n  gallery.innerHTML = '';\n  getImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          color: 'yellow',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        gallery.innerHTML = createGallery(data.hits);\n        if (!lightbox) {\n          lightbox = new SimpleLightbox('.gallery-link', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n        } else {\n          lightbox.refresh();\n        }\n      }\n    })\n    .catch(error => {\n      gallery.innerHTML = `<p>Gallery creation failed: ${error}</p>`;\n    })\n    .finally(() => {\n      loader.remove();\n    });\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = event.target.search.value.trim();\n  updateGallery(query);\n});\n"],"names":["getImages","query","LINK","response","data","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","lightbox","updateGallery","loader","iziToast","SimpleLightbox","error","event"],"mappings":"6vBAAe,SAASA,EAAUC,EAAO,CAMvC,MAAMC,EAAO,qEAA2BD,CAAK,2DAE7C,OAAO,MAAMC,CAAI,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,cAAc,EAEhC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,CACR,CACL,CClBe,SAASC,EAAcC,EAAQ,CAC5C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,kCAEsBL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,iBAG/CC,CAAK;AAAA,iBACLC,CAAK;AAAA,mBACHC,CAAQ;AAAA,qBACNC,CAAS;AAAA;AAAA;AAAA,GAIzB,EACA,KAAK,EAAE,CACZ,CCrBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,MAAM,EAC1C,IAAIC,EAKJ,SAASC,EAAchB,EAAO,CAC5B,MAAMiB,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7BH,EAAK,sBAAsB,WAAYG,CAAM,EAC7CJ,EAAQ,UAAY,GACpBd,EAAUC,CAAK,EACZ,KAAKG,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBe,EAAS,MAAM,CACb,MAAO,SACP,SAAU,WACV,QACE,0EACZ,CAAS,GAEDL,EAAQ,UAAYT,EAAcD,EAAK,IAAI,EACtCY,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAII,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GAC1B,CAAW,EAKX,CAAK,EACA,MAAMC,GAAS,CACdP,EAAQ,UAAY,+BAA+BO,CAAK,MAC9D,CAAK,EACA,QAAQ,IAAM,CACbH,EAAO,OAAM,CACnB,CAAK,CACL,CAEAH,EAAK,iBAAiB,SAAUO,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMrB,EAAQqB,EAAM,OAAO,OAAO,MAAM,OACxCL,EAAchB,CAAK,CACrB,CAAC"}